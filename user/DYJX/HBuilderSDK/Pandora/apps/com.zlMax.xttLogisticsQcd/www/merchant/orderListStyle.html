<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>货运单列表样式</title>
    <link href="../css/mui.min.css" rel="stylesheet"/>
    <link href="../css/xtt.css" rel="stylesheet"/>
    <link href="../css/iconfont.css" rel="stylesheet"/>
    <link href="../css/merchant.css" rel="stylesheet"/>
</head>

<body>
<header class="mui-bar mui-bar-nav">
    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
    <h1 id="title" class="mui-title">货运单列表样式</h1>
</header>
<div class="mui-content">
    <!--数据列表-->
    <ul id="list" class="mui-table-view">
        <li class="mui-table-view-cell">
            <a class="mui-navigate-right btn-edit btn-order-edit">
                <div class="order-quantity" style="background-color: #bababa;">
                    20<span class="unit">件</span>
                    <div class="order-other">
                        [03-20]
                    </div>
                    <div class="order-other">
                        中深白班
                    </div>
                </div>
                <div class="order-detail">
                    <p class="order-from mui-ellipsis">
                        <span class="mui-icon mui-icon-location"></span> 广州汽配城 测试商户的地址档口
                    </p>
                    <p class="order-to mui-ellipsis">
                        <span class="mui-icon mui-icon-paperplane"></span> 深圳 测试商户的地址档口
                    </p>
                    <p class="order-fee mui-ellipsis">
                        <span class="mui-icon mui-icon-info-filled"></span> ￥30.00 运费到付 代收款 350.00
                    </p>
                </div>
            </a>
            <a class="mui-btn mui-btn-red btn-delete btn-order-delete">删除</a>
            <a class="mui-btn mui-btn-primary btn-print btn-order-print">
                <span class="mui-icon  mui-icon-upload">打印</span>
            </a>
        </li>

            <a class="mui-btn mui-btn-primary btn-print btn-orderstat-print">
                <span class="mui-icon  mui-icon-upload"></span>
                打印
            </a>
            <!--<a class="mui-btn mui-btn-warning btn-pay btn-orderstat-pay">￥</a>-->
            <li class="mui-table-view-cell mui-collapse">
                <a class="mui-navigate-right btn-receive-group" href="#">
                    <div>
                        <div class="order-quantity" style="background-color: #bababa;">
                            20<span class="unit">件</span>
                        </div>
                        <div class="order-detail">
                            <p class="order-to mui-ellipsis">
                                <span class="mui-icon mui-icon-paperplane"></span> 深圳 测试商户的地址档口
                            </p>
                        </div>
                    </div>
                </a>
                <ul class="mui-table-view">
                    <li class="mui-table-view-cell table-view-cell-padding-fix-less">
                        <a class="mui-navigate-right btn-edit btn-receive-item">
                            <div class="order-quantity" style="background-color: #bababa;">
                                3<span class="unit">件</span>
                                <div class="order-other">
                                    [03-20]
                                </div>
                                <div class="order-other">
                                    中深白班
                                </div>
                            </div>
                            <div class="order-detail">
                                <p class="order-from mui-ellipsis">
                                    <span class="mui-icon mui-icon-location"></span> 广州汽配城 测试商户的地址档口
                                </p>
                                <p class="order-fee mui-ellipsis">
                                    <span class="mui-icon mui-icon-info-filled"></span> ￥30.00 运费到付 代收款 350.00
                                </p>
                            </div>
                        </a>

                    </li>
                    <li class="mui-table-view-cell table-view-cell-padding-fix-less">
                        <a class="mui-navigate-right btn-edit btn-receive-item">
                            <div class="order-quantity" style="background-color: #bababa;">
                                5<span class="unit">件</span>
                                <div class="order-other">
                                    [03-20]
                                </div>
                                <div class="order-other">
                                    中深白班
                                </div>
                            </div>
                            <div class="order-detail">
                                <p class="order-from mui-ellipsis">
                                    <span class="mui-icon mui-icon-location"></span> 广州汽配城 测试商户的地址档口
                                </p>
                                <p class="order-fee mui-ellipsis">
                                    <span class="mui-icon mui-icon-info-filled"></span> ￥30.00 运费到付 代收款 350.00
                                </p>
                            </div>
                        </a>
                    </li>
                    <li class="mui-table-view-cell table-view-cell-padding-fix-less">
                        <a class="mui-navigate-right btn-edit btn-receive-item">
                            <div class="order-quantity" style="background-color: #bababa;">
                                10<span class="unit">件</span>
                                <div class="order-other">
                                    [03-20]
                                </div>
                                <div class="order-other">
                                    中深白班
                                </div>
                            </div>
                            <div class="order-detail">
                                <p class="order-from mui-ellipsis">
                                    <span class="mui-icon mui-icon-location"></span> 广州汽配城 测试商户的地址档口
                                </p>
                                <p class="order-fee mui-ellipsis">
                                    <span class="mui-icon mui-icon-info-filled"></span> ￥30.00 运费到付 代收款 350.00
                                </p>
                            </div>
                        </a>
                    </li>
                    <li class="mui-table-view-cell table-view-cell-padding-fix-less">
                        <a class="mui-navigate-right btn-edit btn-receive-item">
                            <div class="order-quantity" style="background-color: #bababa;">
                                2<span class="unit">件</span>
                                <div class="order-other">
                                    [03-20]
                                </div>
                                <div class="order-other">
                                    中深白班
                                </div>
                            </div>
                            <div class="order-detail">
                                <p class="order-from mui-ellipsis">
                                    <span class="mui-icon mui-icon-location"></span> 广州汽配城 测试商户的地址档口
                                </p>
                                <p class="order-fee mui-ellipsis">
                                    <span class="mui-icon mui-icon-info-filled"></span> ￥30.00 运费到付 代收款 350.00
                                </p>
                            </div>
                        </a>
                    </li>
                </ul>

            </li>

        <li class="mui-table-view-cell mui-collapse">
            <a class="mui-navigate-right btn-receive-group" href="#">
                <div class="order-quantity" style="background-color: #bababa;">
                    18<span class="unit">件</span>
                </div>
                <div class="order-detail">
                    <p class="order-to mui-ellipsis">
                        <span class="mui-icon mui-icon-paperplane"></span> 深圳 测试商户的地址档口
                    </p>
                </div>
            </a>
            <ul class="mui-table-view">
                <li class="mui-table-view-cell table-view-cell-padding-fix-less">
                    <a class="mui-navigate-right btn-edit btn-receive-item">
                        <div class="order-quantity" style="background-color: #bababa;">
                            9<span class="unit">件</span>
                            <div class="order-other">
                                [03-20]
                            </div>
                            <div class="order-other">
                                中深白班
                            </div>
                        </div>
                        <div class="order-detail">
                            <p class="order-from mui-ellipsis">
                                <span class="mui-icon mui-icon-location"></span> 广州汽配城 测试商户的地址档口
                            </p>
                            <p class="order-fee mui-ellipsis">
                                <span class="mui-icon mui-icon-info-filled"></span> ￥30.00 运费到付 代收款 350.00
                            </p>
                        </div>
                    </a>
                </li>
                <li class="mui-table-view-cell table-view-cell-padding-fix-less">
                    <a class="mui-navigate-right btn-edit btn-receive-item">
                        <div class="order-quantity" style="background-color: #bababa;">
                            3<span class="unit">件</span>
                            <div class="order-other">
                                [03-20]
                            </div>
                            <div class="order-other">
                                中深白班
                            </div>
                        </div>
                        <div class="order-detail">
                            <p class="order-from mui-ellipsis">
                                <span class="mui-icon mui-icon-location"></span> 广州汽配城 测试商户的地址档口
                            </p>
                            <p class="order-fee mui-ellipsis">
                                <span class="mui-icon mui-icon-info-filled"></span> ￥30.00 运费到付 代收款 350.00
                            </p>
                        </div>
                    </a>
                </li>
                <li class="mui-table-view-cell table-view-cell-padding-fix-less">
                    <a class="mui-navigate-right btn-edit btn-receive-item">
                        <div class="order-quantity" style="background-color: #bababa;">
                            6<span class="unit">件</span>
                            <div class="order-other">
                                [03-20]
                            </div>
                            <div class="order-other">
                                中深白班
                            </div>
                        </div>
                        <div class="order-detail">
                            <p class="order-from mui-ellipsis">
                                <span class="mui-icon mui-icon-location"></span> 广州汽配城 测试商户的地址档口
                            </p>
                            <p class="order-fee mui-ellipsis">
                                <span class="mui-icon mui-icon-info-filled"></span> ￥30.00 运费到付 代收款 350.00
                            </p>
                        </div>
                    </a>
                </li>
            </ul>
        </li>
    </ul>
</div>

<footer class="bottom-action-bar">
    <button id="addOne" type="button" class="mui-btn mui-btn-block">
        添加一个
    </button>
</footer>
<script src="../js/mui.min.js"></script>
<script src="../js/zepto-1.1.6.min.js"></script>
<script src="../js/xtt.js"></script>
<script type="text/javascript" charset="utf-8">
    //初始化
    mui.init({
        swipeBack: false //关闭自动右滑返回功能
    });
    xtt.setSwipeRightBack();
    //plusReady
    mui.plusReady(function () {
        xtt.initPlusReady();
    });
    var order = {
        "AutoId": 69,
        "Id": "212728a6-217a-4aa5-a59e-8c9b0be37756",
        "OrderType": 1,
        "OrderNumber": "2016032400001",
        "MemberId": "b174fd73-c5fc-49a2-a8c8-0ac745fa9a91",
        "AccountId": "00000000-0000-0000-0000-000000000000",
        "CompanyId": "1db35e76-0e3c-4b96-b3ee-52f94b0872f2",
        "CompanyAccountId": "00000000-0000-0000-0000-000000000000",
        "SendId": "b174fd73-c5fc-49a2-a8c8-0ac745fa9a91",
        "SendArea": 2,
        "SendCarCityName": "广州汽配城",
        "SendShortName": "顺杰",
        "SendFullName": null,
        "SendShortNameFullPY": "ShunJie",
        "SendShortNameFirstPY": "SJ",
        "SendFullNameFullPY": "",
        "SendFullNameFirstPY": "",
        "SendTel": "",
        "SendPhone": "",
        "SendLinkMan": null,
        "SendAddress": "",
        "ReceiveId": "2813d5f7-46ad-45b0-93b9-0ed44147de35",
        "ReceiveArea": 1,
        "ReceiveCarCityId": "b864b17f-f570-46e3-b028-82fa16db894a",
        "ReceiveCarCityColor": "#ed61ff",
        "ReceiveCarCityName": "宝安宝民一路",
        "ReceiveShortName": "深圳通达汽配",
        "ReceiveFullName": null,
        "ReceiveShortNameFullPY": "ShenZhenTongDaQiPei",
        "ReceiveShortNameFirstPY": "SZTDQP",
        "ReceiveFullNameFullPY": "",
        "ReceiveFullNameFirstPY": "",
        "ReceiveTel": " 075527801144 27807802 34464551",
        "ReceivePhone": " 18566233713",
        "ReceiveLinkMan": null,
        "ReceiveAddress": "宝安区宝民一路270号",
        "PickType": 0,
        "LineId": "98f656cc-99f7-4d42-8497-fccd22b29391",
        "LineName": "广深白班",
        "LineInstanceId": "33707bc5-e6e8-4bda-af91-c74786f16c6c",
        "MemberPayId": null,
        "MemberPayFee": null,
        "Images": null,
        "Fee": 30.00,
        "BoxFee": 0.00,
        "IsNeedGoodsPriceFee": false,
        "IsNeedReceiveMemberPay": true,
        "IsNeedBox": false,
        "GoodsPriceFee": 0.00,
        "GoodsDescription": null,
        "ServicesGoodsDescription": "汽配",
        "GoodsPrice": 0.00,
        "GoodsTotalQuantity": 4,
        "ServicesGoodsTotalQuantity": 4,
        "Remark": null,
        "IsCancel": false,
        "CancelReason": null,
        "Status": 1,
        "StartProvinceId": 0,
        "StartCityId": 0,
        "StartDistrict": 0,
        "StartPCDName": "广州",
        "EndProvinceId": 0,
        "EndCityId": 0,
        "EndDistrict": 0,
        "EndPCDName": "深圳",
        "CreatedOn": "2016-03-24 17:01:24",
        "CreatedBy": "N13632865869",
        "UpdatedOn": null,
        "UpdatedBy": null,
        "PickDT": null,
        "PickName": null,
        "SetOutDT": null,
        "SetOutName": null,
        "ArrivedDT": null,
        "ArrivedName": null,
        "ReceiverName": null,
        "IsDelete": false,
        "Sender": null,
        "Receiver": null,
        "Line": null
    };
    /**
     * 构建列表项
     * @param item 汽配城数据对象
     * @returns {*|jQuery} 列表项
     */
    function createLi(item) {
        var li = $('<li>')
                .addClass('mui-table-view-cell').attr('id', 'li_' + item.Id);
        var a = $('<a>').addClass('mui-navigate-right')
                .append(
                        /*$('div').addClass('order-quantity').append(item.ServicesGoodsTotalQuantity).append(
                         $('<span>').addClass('unit').append('件')
                         )*/
                        '<div class="order-quantity">' + item.ServicesGoodsTotalQuantity + '<span class="unit">件</span></div>'
                )
                .append(
                        /*$('div').addClass('order-detail')
                         .append(
                         $('<p>').addClass('customer-title mui-ellipsis')
                         .append($('span').addClass('mui-icon mui-icon-location'))
                         .append(item.SendCarCityName + ' ' + item.SendShortName)
                         ).append(
                         $('<p>').addClass('customer-title mui-ellipsis')
                         .append($('span').addClass('mui-icon mui-icon-paperplane'))
                         .append(item.ReceiveCarCityName + ' ' + item.ReceiveShortName)
                         ).append(
                         $('<p>').addClass('customer-title mui-ellipsis')
                         .append($('span').addClass('mui-icon mui-icon-info-filled'))
                         .append('￥ '+ item.Fee + (item.IsNeedReceiveMemberPay?'运费到付':'运费发付') + (item.MemberPayFee? ( ' 代收款 ' + item.MemberPayFee):''))
                         )*/
                        '<div class="order-detail">' +
                        '<p class="order-from mui-ellipsis">' +
                        '<span class="mui-icon mui-icon-location"></span>' +
                        item.SendCarCityName + ' ' + item.SendShortName +
                        '</p>' +
                        '<p class="order-from mui-ellipsis">' +
                        '<span class="mui-icon mui-icon-paperplane"></span>' +
                        item.ReceiveCarCityName + ' ' + item.ReceiveShortName +
                        '</p>' +
                        '<p class="order-from mui-ellipsis">' +
                        '<span class="mui-icon mui-icon-info-filled"></span>' +
                        '￥ ' + item.Fee.toFixed(2) + ' ' + (item.IsNeedReceiveMemberPay ? '运费到付' : '运费发付') + (item.MemberPayFee ? (' 代收款 ' + item.MemberPayFee.toFixed(2)) : '') +
                        '</p>' +
                        '</div>'
                ).attr('id', item.Id);
        /*	alert('2');*/
        li.append(
                $('<div>').addClass('mui-slider-right mui-disabled')
                        .append(
                                $('<a>').addClass('mui-btn mui-btn-red btn-delete')
                                        .append('删除')
                        )
        );
        /*		alert('3');*/
        li.append(
                $('<div>').addClass('mui-slider-handle')
                        .append(a)
        );
        /*				alert('4');*/
        /*	alert(li.html());*/
        return li;
    }
    document.getElementById('addOne').addEventListener('tap', function () {
        var li = createLi(order);
        $('#list').append(li);
    });
</script>
</body>

</html>